# Bilibili视频OCR处理工具

这是一个用于处理Bilibili视频的OCR工具，可以自动下载视频、提取关键帧并进行文字识别。识别结果会以文本文件的形式保存。

## 功能特点

- 自动下载Bilibili视频
- 提取视频关键帧
- 使用PaddleOCR进行文字识别
- 显示处理进度条
- 自动保存识别结果到文本文件
- 自动清理临时文件

## 安装要求

- Python 3.7+
- pip（Python包管理器）

## 安装步骤

1. 克隆或下载本项目到本地

2. 安装依赖包：
```bash
pip install -r requirements.txt
```

3. 安装PaddleOCR模型（首次运行时会自动下载）

## 使用方法

### 基本用法

```bash
python bilibili_ocr.py <视频URL>
```

例如：
```bash
python bilibili_ocr.py https://www.bilibili.com/video/BV1xx411c7mD
```

### 输出说明

程序运行后会在当前目录下创建 `ocr_results` 文件夹，并在其中生成以时间戳命名的文本文件（格式：`20250423HHMMSS.txt`）。

文本文件内容格式示例：
```
=== 视频中的唯一文案 ===

文案组 1:
- 第一行识别到的文字
- 第二行识别到的文字
----------------------------------------

文案组 2:
- 另一组识别到的文字
- 更多识别到的文字
----------------------------------------
```

### 注意事项

1. 确保网络连接稳定，视频下载需要一定时间
2. 视频处理过程中会占用一定的系统资源
3. 程序会自动清理临时文件，无需手动删除
4. 如果识别结果为空，可能是因为视频中没有文字或文字识别失败

## 常见问题

1. **下载失败**
   - 检查网络连接
   - 确认视频URL是否正确
   - 确认视频是否可以正常访问

2. **OCR识别效果不佳**
   - 视频中的文字可能不够清晰
   - 文字颜色与背景对比度不够
   - 文字区域被遮挡

## 依赖说明

- yt-dlp: 用于下载Bilibili视频
- opencv-python: 用于视频处理和帧提取
- paddlepaddle: PaddleOCR的深度学习框架
- paddleocr: 文字识别核心库
- tqdm: 进度条显示

## 许可证

MIT License
